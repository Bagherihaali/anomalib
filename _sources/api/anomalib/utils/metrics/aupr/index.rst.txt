:py:mod:`anomalib.utils.metrics.aupr`
=====================================

.. py:module:: anomalib.utils.metrics.aupr

.. autoapi-nested-parse::

   Implementation of AUROC metric based on TorchMetrics.



Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   anomalib.utils.metrics.aupr.AUPR




.. py:class:: AUPR(num_classes: Optional[int] = None, pos_label: Optional[int] = None, **kwargs: Any)

   Bases: :py:obj:`torchmetrics.PrecisionRecallCurve`

   Area under the PR curve.

   .. py:method:: compute(self) -> torch.Tensor

      First compute PR curve, then compute area under the curve.

      :returns: Value of the AUPR metric


   .. py:method:: update(self, preds: torch.Tensor, target: torch.Tensor) -> None

      Update state with new values.

      Need to flatten new values as PrecicionRecallCurve expects them in this format for binary classification.

      :param preds: predictions of the model
      :type preds: Tensor
      :param target: ground truth targets
      :type target: Tensor


   .. py:method:: _compute(self) -> Tuple[torch.Tensor, torch.Tensor]

      Compute prec/rec value pairs.

      :returns: Tuple containing Tensors for rec and prec


   .. py:method:: generate_figure(self) -> Tuple[matplotlib.figure.Figure, str]

      Generate a figure containing the PR curve as well as the random baseline and the AUC.

      :returns: Tuple containing both the PR curve and the figure title to be used for logging
      :rtype: Tuple[Figure, str]



